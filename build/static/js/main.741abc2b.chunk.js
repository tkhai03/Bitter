(this.webpackJsonpbitter=this.webpackJsonpbitter||[]).push([[0],{100:function(e,t){},102:function(e,t,a){},103:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),c=a(21),r=a.n(c),l=(a(76),a(77),a(3)),o=a(16),i=a(23),u=a(37),m=a(6),d=a.n(m),E={email:"",username:"",id:0};function p(e){return{type:"LOGIN_USER",payload:e}}var h=a(22),g=a.n(h),v=a(60),f=a.n(v);var N=function(e){var t=e.active,a=e.text;return s.a.createElement("div",{className:"sidebarOption ".concat(t&&"sidebarOption--active")},s.a.createElement("h2",null,a))},b=a(116),O=a(59),x=a.n(O),j=a(61),w=a.n(j),k=a(62),I=a.n(k),C=a(63),y=a.n(C),L=a(64),U=a.n(L),P=a(65),S=a.n(P);a(52);var T=function(){return s.a.createElement("div",{className:"Sidebar"},s.a.createElement(g.a,{className:"sidebar_bitterIcon"}),s.a.createElement("h1",null,s.a.createElement(x.a,{className:"sideIcons"}),s.a.createElement(N,{text:"Home",className:"sideText"})),s.a.createElement("h1",null,s.a.createElement(f.a,{className:"sideIcons"}),s.a.createElement(N,{text:"Notifications",className:"sideText"})," "),s.a.createElement("h1",null,s.a.createElement(w.a,{className:"sideIcons"})," ",s.a.createElement(N,{text:"Messages",className:"sideText"})," "),s.a.createElement("h1",null,s.a.createElement(I.a,{className:"sideIcons"})," ",s.a.createElement(N,{text:"Bookmarks",className:"sideText"})," "),s.a.createElement("h1",null,s.a.createElement(y.a,{className:"sideIcons"})," ",s.a.createElement(N,{text:"Lists",className:"sideText"})," "),s.a.createElement("h1",null,s.a.createElement(U.a,{className:"sideIcons"})," ",s.a.createElement(N,{text:"Profile",className:"sideText"})," "),s.a.createElement("h1",null,s.a.createElement(S.a,{className:"sideIcons"})," ",s.a.createElement(N,{text:"More",className:"sideText"})," "),s.a.createElement(b.a,{variant:"outlined",className:"sidebar_grieve",fullWidth:!0},"Grieve"))},_=a(117);var B=function(e){var t=Object(n.useState)(""),a=Object(o.a)(t,2),c=a[0],r=a[1];return s.a.createElement("div",{className:"grieveBox"},s.a.createElement("form",null,s.a.createElement("div",{className:"grieveBox_input"},s.a.createElement(_.a,null,"OP"),s.a.createElement("input",{placeholder:"What's bringing you down?",onChange:function(e){return r(e.target.value)}})),s.a.createElement(b.a,{className:"grieveBox_grieveButton",onClick:function(){d.a.post("/api/posts",{content:c}).then((function(t){e.getPosts(),r("")}))}},"Grieve")))},R=a(66),G=a.n(R);var M=function(e){var t=e.content,a=e.username,c=e.id,r=Object(n.useState)(t),l=Object(o.a)(r,2),i=l[0],u=l[1],m=Object(n.useState)(!1),E=Object(o.a)(m,2),p=E[0],h=E[1];return s.a.createElement("div",null,p?s.a.createElement("div",{className:"Post"},s.a.createElement("input",{className:"editInput",type:"text",value:i,onChange:function(e){return u(e.target.value)}}),s.a.createElement("button",{className:"postEdit",onClick:function(){d.a.put("/api/posts/".concat(c),{editContent:i}).then((function(t){e.getPosts(),h(!1)}))}},"Save")):s.a.createElement("div",{className:"Post"},s.a.createElement(b.a,{className:"likeButton",onClick:function(){return e.addLikedPost(c)}},s.a.createElement(G.a,null)),s.a.createElement("div",{className:"postContent"},s.a.createElement("h3",null,"@",a),s.a.createElement("p",null,t),s.a.createElement("button",{className:"postButton",onClick:function(){return h(!0)}},"Edit"),s.a.createElement("button",{className:"postButton",onClick:function(){d.a.delete("/api/posts/".concat(c)).then((function(t){e.getPosts()}))}},"Delete"))))};a(100);var D=function(e){var t=e.posts.map((function(t,a){return s.a.createElement(M,{content:t.content,username:t.username,date:t.created_at,key:a,id:t.id,getPosts:e.getPosts,addLikedPost:e.addLikedPost})}));return s.a.createElement("div",{className:"Feed"},s.a.createElement("div",{className:"feed_header"},s.a.createElement("h2",null,"Home")),s.a.createElement(B,{getPosts:e.getPosts}),t)};var W=function(){return s.a.createElement("div",{className:"Widgets"},s.a.createElement("div",{className:"widgetContainer"},s.a.createElement("div",{className:"widgetFeed"},s.a.createElement("div",{className:"widgetPost"},s.a.createElement("h3",{className:"widgetUser"},"@TEST"),s.a.createElement("p",{className:"copyPost"},"LOREEM IPSUM TEXXT")))))};var F=Object(i.b)((function(e){return e}),{getUser:function(){return{type:"GET_USER",payload:d.a.get("/auth/user")}},loginUser:p,logoutUser:function(){return{type:"LOGOUT_USER",payload:null}}})(Object(l.f)((function(e){var t=Object(n.useState)([]),a=Object(o.a)(t,2),c=a[0],r=a[1],l=Object(n.useState)([]),i=Object(o.a)(l,2),u=i[0],m=i[1],E=function(){d.a.get("/api/likes").then((function(e){m(e.data)}))};Object(n.useEffect)((function(){p(),E()}),[]);var p=function(){e.isLoggedIn||(d.a.get("/auth/getUser").then((function(t){return e.loginUser(t.data)})).catch((function(e){return console.log(e)})),d.a.get("/api/posts").then((function(e){r(e.data),console.log(e.data)})))};return console.log(u),s.a.createElement("div",{className:"bigDashboard"},s.a.createElement("div",{className:"Dashboard"},s.a.createElement(T,null),s.a.createElement(D,{posts:c,getPosts:p,addLikedPost:function(e){d.a.post("/api/likes/".concat(e)).then((function(e){E()}))}}),s.a.createElement(W,null),s.a.createElement("button",{onClick:function(){d.a.delete("/auth/logout").then((function(){e.logoutUser(),e.history.push("/")}))},className:"dashLogout"},"Log Out")))}))),J=(a(102),a(67)),H=a.n(J),A=a(20),X=a(25),$=a(33),q=a(34),z=a(36),K=a(35),Q=function(e){Object(z.a)(a,e);var t=Object(K.a)(a);function a(){var e;return Object($.a)(this,a),(e=t.call(this)).handleInput=function(t){e.setState(Object(X.a)({},t.target.name,t.target.value))},e.handleRegister=function(){var t=e.state,a=t.email,n=t.username,s=t.password;d.a.post("/auth/register",{email:a,username:n,password:s}).then((function(t){e.props.loginUser(t.data),console.log(e.props),e.props.history.push("/dashboard")})).catch((function(e){alert(e.message)}))},e.state={email:"",username:"",password:""},e}return Object(q.a)(a,[{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"bigRegister"},s.a.createElement("div",{className:"Register"},s.a.createElement(g.a,{className:"bitterIcon"}),s.a.createElement("h1",{className:"topText"},"Create your account"),s.a.createElement("div",{className:"inputContainer"},s.a.createElement("input",{className:"inputBox",placeholder:"Email",name:"email",text:"text",value:this.state.email,onChange:function(t){e.handleInput(t)}}),s.a.createElement("input",{className:"inputBox",placeholder:"Username",name:"username",text:"text",value:this.state.username,onChange:function(t){e.handleInput(t)}}),s.a.createElement("input",{className:"inputBox",placeholder:"Password",name:"password",type:"password",value:this.state.password,onChange:function(t){e.handleInput(t)}})),s.a.createElement("button",{className:"registerButton",onClick:function(){e.handleRegister()}},"Register")))}}]),a}(n.Component),V=Object(l.f)(Object(i.b)(null,{loginUser:p})(Q));var Y=function(){var e=Object(n.useState)(!1),t=Object(o.a)(e,2),a=t[0],c=t[1];return s.a.createElement("div",{className:"Landing"},s.a.createElement("img",{className:"bitterLogo",src:H.a,alt:"logo"}),s.a.createElement("div",{className:"posterText"},s.a.createElement("h1",{className:"posterMsg"},"Follow your interests."),s.a.createElement("h1",{className:"posterMsg"},"Hear what people are talking about."),s.a.createElement("h1",{className:"posterMsg"},"Join the conversation")),s.a.createElement("div",{className:"auth_container"},s.a.createElement(g.a,{className:"landing_bitterIcon"}),s.a.createElement("div",{className:"loginText"},s.a.createElement("h1",{className:"loginMsg"},"See what's happening in the world right now")),s.a.createElement("div",{className:"button-container"},s.a.createElement("button",{className:"button1",onClick:function(){return c(!0)}},"Sign up"),s.a.createElement(A.b,{to:"/auth"},s.a.createElement("button",{className:"button2"},"Log in")))),a?s.a.createElement(V,null):null)},Z=function(e){Object(z.a)(a,e);var t=Object(K.a)(a);function a(e){var n;return Object($.a)(this,a),(n=t.call(this,e)).handleInput=function(e){n.setState(Object(X.a)({},e.target.name,e.target.value))},n.handleLogin=function(e){var t=n.state,a=t.email,s=t.password;d.a.post("/auth/login",{email:a,password:s}).then((function(e){n.props.loginUser(e.data),n.props.history.push("/dashboard")})).catch((function(e){alert(e.message)}))},n.state={email:"",password:""},n}return Object(q.a)(a,[{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"Auth"},s.a.createElement("div",{className:"loginContainer"},s.a.createElement(g.a,{className:"authBitterIcon"}),s.a.createElement("h1",{className:"authTitle"},"Log in to Bitter"),s.a.createElement("div",{className:"authInputs"},s.a.createElement("input",{className:"authEmail",placeholder:"Email",name:"email",text:"text",value:this.state.email,onChange:function(t){e.handleInput(t)}}),s.a.createElement("input",{className:"authPassword",placeholder:"Password",name:"password",text:"text",value:this.state.password,onChange:function(t){e.handleInput(t)}})),s.a.createElement("button",{className:"authLoginButton",onClick:function(){e.handleLogin()}},"Log in")))}}]),a}(n.Component),ee=Object(i.b)(null,{loginUser:p})(Z),te=s.a.createElement(l.c,null,s.a.createElement(l.a,{exact:!0,path:"/",component:Y}),s.a.createElement(l.a,{path:"/dashboard",component:F}),s.a.createElement(l.a,{path:"/auth",component:ee}),s.a.createElement(l.a,{path:"/register",component:V}));var ae=Object(l.f)((function(e){return s.a.createElement("div",{className:"App"},te)}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ne=a(27),se=a(68),ce=Object(ne.createStore)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_USER":var a=t.payload,n=a.username,s=a.id;return{username:n,id:s};case"LOGOUT_USER":return E;case"GET_USER_PENDING":return Object(u.a)({},e);case"GET_USER_FULFILLED":return Object(u.a)(Object(u.a)({},e),{},{username:t.payload.username,id:t.payload.id});case"GET_USER_REJECTED":default:return E}}),Object(se.composeWithDevTools)()),re=A.a;r.a.render(s.a.createElement(i.a,{store:ce},s.a.createElement(re,null,s.a.createElement(ae,null)),","),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},52:function(e,t,a){},67:function(e,t,a){e.exports=a.p+"static/media/bitter-chat-background.6fff2b05.jpg"},71:function(e,t,a){e.exports=a(103)},76:function(e,t,a){},77:function(e,t,a){}},[[71,1,2]]]);
//# sourceMappingURL=main.741abc2b.chunk.js.map